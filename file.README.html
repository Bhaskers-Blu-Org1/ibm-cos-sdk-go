<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/highlight.github.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <div id='filecontents'><h1>IBM Cloud Object Storage - Go SDK</h1>

<p>This package allows Go developers to write software that interacts with <a href="https://www.ibm.com/cloud/object-storage">IBM
Cloud Object Storage</a>.  It is a fork of the <a href="https://github.com/aws/aws-sdk-go"><code>AWS SDK for Go</code></a> library and can stand as a drop-in replacement if the application needs to connect to object storage using an S3-like API and does not make use of other AWS services.</p>

<h2>Documentation</h2>

<ul>
<li><a href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-getting-started">Core documentation for IBM COS</a></li>
<li><a href="https://ibm.github.io/ibm-cos-sdk-go">Go API reference documentation</a></li>
<li><a href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-compatibility-api">REST API reference documentation</a></li>
</ul>


<p>For release notes, see the <a href="CHANGELOG.rst">CHANGELOG</a>.</p>

<ul>
<li><a href="#getting-the-sdk">Getting the SDK</a></li>
<li><a href="#example-code">Example code</a></li>
<li><a href="#getting-help">Getting help</a></li>
</ul>


<h2>Quick start</h2>

<p>You'll need:
  * An instance of COS.
  * An API key from <a href="https://cloud.ibm.com/docs/iam?topic=iam-userroles#userroles">IBM Cloud Identity and Access Management</a> with at least <code>Writer</code> permissions.
  * The ID of the instance of COS that you are working with.
  * Token acquisition endpoint
  * Service endpoint</p>

<p>These values can be found in the IBM Cloud Console by <a href="https://cloud.ibm.com/docs/services/cloud-object-storage/iam?topic=cloud-object-storage-service-credentials#service-credentials">generating a 'service credential'</a>.</p>

<h2>Getting the SDK</h2>

<p>Use go get to retrieve the SDK to add it to your GOPATH workspace, or project's Go module dependencies.  The SDK requires a minimum version of Go 1.10.</p>

<pre class="code sh"><code class="sh">go get github.com/IBM/ibm-cos-sdk-go
</code></pre>

<p>To update the SDK use go get -u to retrieve the latest version of the SDK..</p>

<pre class="code sh"><code class="sh">go get -u github.com/IBM/ibm-cos-sdk-go
</code></pre>

<h2>Example code</h2>

<p>Create a file <code>main.go</code>, replacing your own values for API key, instance ID, and bucket name:</p>

<pre class="code go"><code class="go"><div class="hljs"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>

    <span class="hljs-string">"github.com/IBM/ibm-cos-sdk-go/aws"</span>
    <span class="hljs-string">"github.com/IBM/ibm-cos-sdk-go/aws/credentials/ibmiam"</span>
    <span class="hljs-string">"github.com/IBM/ibm-cos-sdk-go/aws/session"</span>
    <span class="hljs-string">"github.com/IBM/ibm-cos-sdk-go/service/s3"</span>
)

<span class="hljs-keyword">const</span> (
    apiKey            = <span class="hljs-string">"<API_KEY>"</span>
    serviceInstanceID = <span class="hljs-string">"<RESOURCE_INSTANCE_ID>"</span>
    authEndpo<span class="hljs-constant">int</span>      = <span class="hljs-string">"https://iam.bluemix.net/oidc/token"</span>
    serviceEndpo<span class="hljs-constant">int</span>   = <span class="hljs-string">"https://s3-api.us-geo.objectstorage.softlayer.net"</span>
)

<span class="hljs-keyword">func</span> main() {

    newBucket := <span class="hljs-string">"new-bucketee"</span>
    newColdBucket := <span class="hljs-string">"new-cold-bucketee"</span>

    conf := aws.NewConfig().
        WithEndpo<span class="hljs-constant">int</span>(serviceEndpo<span class="hljs-constant">int</span>).
        WithCredentials(ibmiam.NewStaticCredentials(aws.NewConfig(),
            authEndpo<span class="hljs-constant">int</span>, apiKey, serviceInstanceID)).
        WithS3ForcePathStyle(<span class="hljs-constant">true</span>)

    sess := session.Must(session.NewSession())
    client := s3.New(sess, conf)

    input := &s3.CreateBucketInput{
        Bucket: aws.String(newBucket),
    }
    client.CreateBucket(input)

    input2 := &s3.CreateBucketInput{
        Bucket: aws.String(newColdBucket),
        CreateBucketConfiguration: &s3.CreateBucketConfiguration{
            LocationConstra<span class="hljs-constant">int</span>: aws.String(<span class="hljs-string">"us-cold"</span>),
        },
    }
    client.CreateBucket(input2)

    d, _ := client.ListBuckets(&s3.ListBucketsInput{})
    fmt.Println(d)
}
</div></code></pre>

<p>From the command line, run <code>go run main.go</code>.  You should see a list of your buckets.</p>

<h2>Getting Help</h2>

<p>Feel free to use GitHub issues for tracking bugs and feature requests, but for help please use one of the following resources:</p>

<ul>
<li>Read a quick start guide in <a href="https://cloud.ibm.com/docs/services/cloud-object-storage?topic=cloud-object-storage-go">IBM Cloud Docs</a>.</li>
<li>Ask a question on <a href="https://stackoverflow.com/questions/tagged/object-storage+ibm">Stack Overflow</a> and tag it with <code>ibm</code> and <code>object-storage</code>.</li>
<li>Open a support ticket with <a href="https://cloud.ibm.com/unifiedsupport/supportcenter/">IBM Cloud Support</a></li>
<li>If it turns out that you may have found a bug, please <a href="https://github.com/ibm/ibm-cos-sdk-go/issues/new">open an issue</a>.</li>
</ul>


<h2>License</h2>

<p>This SDK is distributed under the
<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>,
see LICENSE.txt and NOTICE.txt for more information.</p>
</div>
      </div>

      <div id="footer">
  Generated on Mon Jun  3 16:28:53 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
